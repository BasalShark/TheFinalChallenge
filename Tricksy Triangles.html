<html>
	<head>
		<title>The Final Challenge</title>
		<link href="https://fonts.googleapis.com/css2?family=Tangerine:wght@700&display=swap" rel="stylesheet">
		<link href="style.css" type = "text/css" rel="stylesheet">
	</head>
	<body>
		<header>
			<h1>The Final Challenge</h1>
			<nav>
				<ul>
					<li class = "complete" onclick = show('bracket')>Bric A Brackets</li>
					<li class = "complete" onclick = show('probably')>Probably Wrong</li>
					<li class = "on" onclick = show('triangle')>Tricksy Triangles</li>
					<li>The Midnight Train</li>
					<li>A Dot and a Dash</li>
					<li>Locked Out</li>
					<li>Double Trouble</li>
					<li>Flipping the Cards</li>
					<li>The Pygmy Puff's Puzzle</li>
					<li>The Road to Rune</li>
					<li>Thinking Inside the Box</li>
					<li>The Matrix</li>
				</ul>
			</nav>
		</header>

		<main>
			<div id = "black" class = "question" style="display:block">
				<div class = "cipher">
					<p>Welcome to the Final Challenge. Select the question you would like to attempt from the selection above.</p>
				</div>
			</div>
			
			<div id = "bracket" class = "question" style="display:none">
				<h2>Bric A Brackets</h2>
				<br>
				<ul class = "difficulty">
					<li>Difficulty: *</li>
				</ul>
				<div class = "cipher">
					<p> We'll start easy. Break the brackets: <br><br>(1)×(2) - (3)×(4) <br><br></p>
				</div>
			</div>
			
			<div id = "probably" class = "question" style="display:none">
				<h2>Probably Wrong</h2>
				<br>
				<ul class = "difficulty">
					<li>Difficulty: *</li>
				</ul>
				<div class = "cipher">
					<p>What's the probability that if I select two cards from the deck, both are red?</p>
				</div>
			</div>
			
			<div id = "triangle" class = "question" style="display:none">
				<h2>Tricksy Triangles</h2>
				<br>
				<ul class = "difficulty">
					<li>Difficulty: **</li>
				</ul>
				<div class = "cipher">
					<p>Getting harder...<br><br>
					For this challenge, find the value of y in centimeters. Note that the triangles (as with everything in Maths) are not to scale. Sorry.<br><br>
					Lines with the same letters can be placed beside each other.</p>
				</div>
			</div>

		</main>
		<form>
			<input id="answerbox" name="answer" type="text" placeholder="Check an answer..."/>
			<input name="answerButton" type="button" onclick = "submitAnswer()" value="Submit"/> 
		</form>
	</body>
	<script>
	
		var current = "black";
		function show(chosen){
			document.getElementById(current).style.display="none";
			document.getElementById(chosen).style.display="block";
			current = chosen;
		}
		
		function submitAnswer() {
			var answer, count;
			setupVars=[
			"65/4", "64/5 cm", "64/5cm", "64/5 centimetres", "16.3", "16.3cm", "16.3 cm", "16.3 centimetres", "16.25", "16.25cm", "16.25 cm", "16.25 centimetres"
			];
			answer = document.getElementById("answerbox").value;
			answer = answer.toLowerCase();
			count = 0;

			for (i=0; i<setupVars.length; i++) {
				if (answer == setupVars[i]){
					document.getElementById("answerbox").style.backgroundColor="lightgreen";
					setTimeout('window.location.href = "The Midnight Train.html";', 1000, true);
					break;
				} else {
					count += 1;
				}
			}

			if (answer == ""){
				document.getElementById("answerbox").style.backgroundColor="white";
			} else if (count == setupVars.length){
				document.getElementById("answerbox").style.backgroundColor="#ff8080";
			}
		}
		
		window.addEventListener('keydown', function(e) {
			if (e.keyIdentifier == 'U+000A' || e.keyIdentifier == 'Enter' || e.keyCode == 13) {
				if (e.target.nodeName == 'INPUT' && e.target.type == 'text') {
					e.preventDefault();
					submitAnswer();
					return false;
				}
			}
		}, true);
	</script>
</html>